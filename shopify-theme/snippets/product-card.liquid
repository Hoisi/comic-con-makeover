{% comment %}
  Product Card Snippet - Hyde Hermit Studio
  Usage: {% render 'product-card', product: product %}
{% endcomment %}

<div class="product-card">
  <a href="{{ product.url }}" class="product-card-link">
    <div class="product-image-container">
      {% if product.featured_image %}
        <img 
          src="{{ product.featured_image | img_url: '400x400', crop: 'center' }}" 
          alt="{{ product.featured_image.alt | escape | default: product.title }}"
          loading="lazy"
        >
      {% else %}
        {{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
      {% endif %}
      
      <div class="product-badges">
        {% if product.compare_at_price > product.price %}
          <span class="product-badge product-badge--sale">Sale</span>
        {% endif %}
        {% if product.available == false %}
          <span class="product-badge product-badge--soldout">Sold Out</span>
        {% endif %}
        {% for tag in product.tags %}
          {% if tag contains 'badge:' %}
            <span class="product-badge">{{ tag | remove: 'badge:' }}</span>
          {% endif %}
        {% endfor %}
      </div>
    </div>

    <div class="product-info">
      <h3 class="product-title">{{ product.title }}</h3>
      <div class="product-prices">
        {% if product.compare_at_price > product.price %}
          <span class="product-price-original">{{ product.compare_at_price | money }}</span>
          <span class="product-price-sale">{{ product.price | money }}</span>
        {% else %}
          <span class="product-price-sale">{{ product.price | money }}</span>
        {% endif %}
      </div>
    </div>
  </a>

  <div class="product-actions">
    {% if product.available %}
      <form action="/cart/add" method="post">
        <input type="hidden" name="id" value="{{ product.variants.first.id }}">
        <input type="hidden" name="quantity" value="1">
        <button type="submit" class="add-to-cart-btn">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="9" cy="21" r="1"></circle>
            <circle cx="20" cy="21" r="1"></circle>
            <path d="m1 1 4 4 2.68 11.55a2 2 0 0 0 2 1.45h9.72a2 2 0 0 0 2-1.45L23 6H6"></path>
          </svg>
          Add to Cart
        </button>
      </form>
    {% else %}
      <button class="add-to-cart-btn add-to-cart-btn--disabled" disabled>
        Sold Out
      </button>
    {% endif %}
  </div>
</div>
